Recon Middleware for use with OpenStack Swift Object Servers.

Add to pipeline and add a filter section. Theres only one config flag at the moment that defaults to /var/cache/swift if not present.  This is path prefix the swift-recon cronjob uses to dump its info and is read from to provide certain statistics (async pendings, last replication time, etc).

[filter:recon]
use = egg:swift#recon
recon_cache_path = /var/cache/swift

Provides various operational metrics:

fhines@ubuntu:~/swift-recon$ curl -i http://127.0.0.1:6010/recon/async; echo
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 53
Date: Sun, 12 Jun 2011 06:01:29 GMT

{"async_pending": 28}
-----------
fhines@ubuntu:~/swift-recon$ curl -i http://127.0.0.1:6010/recon/load; echo
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 114
Date: Sun, 12 Jun 2011 06:01:48 GMT

{"15m": "0.00", "1m": "0.00", "5m": "0.00", "processes": "1006", "tasks": "2/182"}



fhines@ubuntu:~/swift-recon/bin$ python swift-recon.py --objmd5 -a
===============================================================================
[2011-06-30 01:03:05] Checking async pendings on 4 hosts...
-> http://127.0.0.1:6040/recon/async: HTTP Error 400: Bad Request
Async stats: low: 7, high: 7, avg: 7, total: 21
===============================================================================
[2011-06-30 01:03:05] Checking ring md5sum's on 4 hosts...
-> http://127.0.0.1:6040/recon/ringmd5: HTTP Error 400: Bad Request
===============================================================================

